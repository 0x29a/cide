- name: Create "Soft" directory.
  file:
    path: "{{ home_directory }}/Soft"
    state: directory

- name: Run "apt-get update, dist-upgrade and autoremove".
  become: yes
  apt:
    update_cache: yes
    upgrade: dist
    autoremove: yes

- name: Install local packages.
  become: yes
  apt:
    name: "{{ local_packages }}"
    state: present

- name: Set git username for the local CIDE repo.
  git_config:
    name: user.name
    repo: .
    scope: local
    value: "{{ github_username }}"

- name: Set git email for the local CIDE repo.
  git_config:
    name: user.email
    repo: .
    scope: local
    value: "{{ github_email }}"

- name: Change remote URL to SSH.
  git_config:
    name: remote.origin.url
    repo: .
    scope: local
    value: "git@github.com:{{ github_username }}/cide.git"
